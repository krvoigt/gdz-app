{% extends 'viewer.html.twig' %}

{% set title = document.title | first %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    {% if document.isanchor %}
        {{ render(controller('AppBundle:Document:anchorDocument', { 'id': document.id })) }}
    {% else %}
        {# Viewer settings #}
        {% set isValidPage = (documentStructure.page >= 1 and documentStructure.page <= documentStructure.pageCount) %}

        <main class="main" id="main">
            <section class="viewer">
                {% include "@SubugoeFind/Default/partials/header.html.twig" %}

                <div class="viewer_main">
                    <div class="viewer_panel -scan">
                        {% include "@SubugoeFind/Default/partials/scan.html.twig" %}
                    </div>
                    {% if document.gdzocr_url is defined %}
                        <div class="viewer_panel -transcript -hidden">
                            {% include "@SubugoeFind/Default/partials/transcript.html.twig" %}
                        </div>
                    {% endif %}
                    <div class="viewer_panel -toc -hidden">
                        {% include "@SubugoeFind/Default/partials/toc.html.twig" %}
                    </div>
                    <div class="viewer_panel -thumbnails -hidden">
                        {% include "@SubugoeFind/Default/partials/thumbnails.html.twig" %}
                    </div>
                    <div class="viewer_panel -metadata">
                        {% include "@SubugoeFind/Default/partials/metadata.html.twig" %}
                    </div>
                    <div class="viewer_panel -export -hidden">
                        {% include "@SubugoeFind/Default/partials/export.html.twig" %}
                    </div>
                </div>
            </section>
        </main>
    {% endif %}
{% endblock %}
